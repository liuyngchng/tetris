# 1. run the demo
```
wine gui/start.exe &
nohup python3 main.py > run.log &
```
# 2. API 返回值数据结构

```JSON
{
  	"end_game": 0,   				            # 游戏是否结束 ( 1 代表 GAME OVER )
  	"score": 100,      				            # 当前分数, 统计单次消行数的平方之和
  	"line_feed": 0,  				            # 累计消除行数
  	"ground":   {    				            # 背景场地中有无方块的矩阵(坐标从上到下,自左而右).
   		"mat2d": [   				            # 当前场地的矩阵行列式 (10*20)
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,  # 0 代表对应位置没有方块占据，1 代表有对应位置方块占据
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 1, 0, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 1, 1, 0, 0, 0, 0, 0 ] ,
   			[ 0, 0, 0, 1, 1, 1, 1, 0, 0, 0 ] ,
   			[ 0, 0, 0, 1, 1, 1, 1, 1, 0, 0 ]    
   		]
  	},
  	"spirit_this":   {                      	# spirit_this 字段指示当前形状
   		"x": 3, 
		"y": -1,              		       		# 当前形状所在坐标为 (3,-1)，该坐标是指图形4×4矩阵中左上角格子的坐标
   		"type": 3, 
		"rotate": 0,       			        	# 类型为 2（0到2）, 角度类型为（0到3）
   		"mat2d": [             		        	# 当前形状矩阵行列式 (4*4)，位置为1的部分形状是
   			[ 0, 0, 0, 0 ] ,
   			[ 0, 1, 1, 1 ] ,
   			[ 0, 1, 0, 0 ] ,
   			[ 0, 0, 0, 0 ]
   		]
  	},
  	"spirit_next":   {                      	# spirit_next 字段指示下一形状
   		"type": 0,
		"rotate": 0,       		        		# 类型为 0, 角度类型为 0
   		"mat2d": [                	        	# 下一形状矩阵行列式 (4*4)
   			[ 0, 0, 0, 0 ] ,
      		[ 0, 1, 1, 0 ] ,
      		[ 0, 1, 1, 0 ] ,
      		[ 0, 0, 0, 0 ]
    	]
  	}
}
```

# 3. API

# 3.1 顺时针旋转接口
```
接口地址：http://127.0.0.1:8000/rotate
参数：无
返回值：返回旋转后的数据结构，参见 1. API 返回值数据结构。
功能：控制当前图形顺时针旋转90度。
```
## 3.2 左移接口
```
接口地址：http://127.0.0.1:8000/left
参数：无
返回值：返回左移后的数据结构，参见1. API 返回值数据结构。
功能：控制当前图形向左移动一格。
```
## 3.3 右移接口
```
接口地址：http://127.0.0.1:8000/right
参数：无
返回值：返回右移后的数据结构，参见1. API 返回值数据结构。
功能：控制当前图形向右移动一格。
```
## 3.4 下移接口
```
接口地址：http://127.0.0.1:8000/down
参数：无
返回值：返回下移后的数据结构，参见1. API 返回值数据结构。
功能：控制当前图形向下移动一格。
```
## 3.5 落底结算接口
```
接口地址：http://127.0.0.1:8000/apply
参数：无
返回值：返回落底结算后的数据结构，参见1. API 返回值数据结构。
功能：控制当前图形按直线向下落到碰撞或触底为止，并同时进行销行、结算等处理。
调用此接口意味着当前图形处理完毕，接口调用成功后，会自动将下一图形作为当前图形。
```
## 3.6 获取当前数据结构接口
```
接口地址：http://127.0.0.1:8000/data
参数：无
返回值：返回当前状态的数据结构，参见1. API 返回值数据结构。
功能：查询当前俄罗斯方块所有数据信息。
```
## 3.7 重新开始新游戏接口
```
接口地址：http://127.0.0.1:8000/reset_all
参数：无
返回值：返回重新开始新游戏时的数据结构，参见1. API 返回值数据结构。
功能：重置所有信息和状态，并重新开始新游戏。
```

# 4. control

GUI W（rotate）,S（down）,A（left）,D（right）空格（apply）P（pause)


# 5. Debug
## 5.1 linux
```
sudo tcpdump -Ai lo  tcp port 8000
```
## 5.2 windows
```
netstat -aon|findstr 8000
```

